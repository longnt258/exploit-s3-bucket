[
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/",
	"title": "Khai thác AWS S3 Bucket",
	"tags": [],
	"description": "",
	"content": "Khai thác AWS S3 Bucket Tổng quan Bài viết này sẽ nói về việc cấu hình sai và cách khai nó trong AWS S3 Bucket.\nNội dung Giới thiệu Chuẩn bị Tiến hành khai thác Giải pháp Dọn dẹp tài nguyên "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/1-introduce/",
	"title": "Giới thiệu",
	"tags": [],
	"description": "",
	"content": "Giới thiệu các khái niệm cơ bản về Attack vector và Attack surface trên cơ sở hạ tầng (on-premise) và trên cloud (on-cloud). Tài liệu tham khảo từ Cloudflare Learning.\n"
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/1-introduce/1.1-attackvector/",
	"title": "Vector tấn công",
	"tags": [],
	"description": "",
	"content": "1. Định nghĩa:\nVector tấn công (hay vector đe dọa) là cách mà kẻ tấn công sử dụng để xâm nhập vào mạng hoặc hệ thống. Các vector tấn công phổ biến: Tấn công lừa đảo (social engineering). Đánh cắp thông tin đăng nhập. Khai thác lỗ hổng bảo mật. 2. Các vector tấn công phổ biến nhất:\nPhishing: Phishing là hành động đánh cắp dữ liệu, chẳng hạn như mật khẩu của người dùng. Kẻ tấn công chiếm đoạt dữ liệu này bằng cách lừa nạn nhân tiết lộ thông tin. (ví dụ: tấn công ransomware).\nTệp đính kèm email: Tệp đính kèm email có thể chứa mã độc, mã này sẽ được thực thi khi người dùng mở tệp. (ví dụ: tấn công Ryuk).\nChiếm đoạt tài khoản: Kẻ tấn công có thể đánh cắp thông tin đăng nhập của người dùng (tên người dùng và mật khẩu) thông qua tấn công phishing, tấn công brute force, hoặc mua chúng trên thị trường ngầm. Kẻ tấn công cũng có thể cố gắng đánh cắp và sử dụng cookie phiên để mạo danh người dùng trên ứng dụng web.\nThiếu mã hóa: Dữ liệu không được mã hóa có thể bị xem bởi bất kỳ ai có quyền truy cập vào nó. Dữ liệu có thể bị chặn khi truyền giữa các mạng, như trong tấn công on-path, hoặc vô tình bị xem bởi các trung gian trên đường truyền mạng.\nMối đe dọa từ nội bộ: Mối đe dọa nội bộ xảy ra khi người dùng được tin cậy truy cập và phân phối dữ liệu bảo mật, hoặc giúp kẻ tấn công làm điều đó. Những tình huống này có thể do người dùng cố tình hoặc vô ý. Kẻ tấn công từ bên ngoài có thể tạo ra mối đe dọa nội bộ bằng cách tiếp cận trực tiếp với những người trong nội bộ, yêu cầu, hối lộ, lừa gạt, hoặc đe dọa họ cung cấp quyền truy cập. Đôi khi, những người dùng nội bộ xấu sẽ tự hành động vì bất mãn với tổ chức hoặc vì lý do khác.\nKhai thác lỗ hổng: Lỗ hổng là một khiếm khuyết trong phần mềm hoặc phần cứng. Khi kẻ tấn công thành công khai thác lỗ hổng để xâm nhập vào hệ thống, điều này được gọi là \u0026ldquo;khai thác lỗ hổng\u0026rdquo;. Cập nhật từ nhà cung cấp phần mềm hoặc phần cứng có thể khắc phục hầu hết các lỗ hổng. Nhưng một số lỗ hổng là \u0026ldquo;zero-day\u0026rdquo; — những lỗ hổng chưa được biết đến và chưa có giải pháp khắc phục.\nTấn công dựa trên trình duyệt: Để hiển thị các trang web, trình duyệt internet tải và thực thi mã nhận từ các máy chủ từ xa. Kẻ tấn công có thể chèn mã độc vào một trang web hoặc chuyển hướng người dùng đến trang web giả mạo, lừa trình duyệt thực thi mã tải về malware hoặc gây tổn hại đến thiết bị của người dùng. Với sự phát triển của điện toán đám mây, nhân viên thường truy cập dữ liệu và ứng dụng chỉ qua trình duyệt, điều này làm cho vector tấn công này đặc biệt đáng lo ngại.\nXâm phạm ứng dụng: Thay vì tấn công trực tiếp vào tài khoản người dùng, kẻ tấn công có thể nhắm mục tiêu nhiễm malware vào một ứng dụng bên thứ ba đáng tin cậy. Hoặc họ có thể tạo ra một ứng dụng giả, độc hại mà người dùng vô tình tải xuống và cài đặt (một vector tấn công phổ biến trên các thiết bị di động).\nCổng mở: Một cổng là lối vào ảo vào thiết bị. Các cổng giúp máy tính và máy chủ liên kết lưu lượng mạng với ứng dụng hoặc quy trình cụ thể. Các cổng không sử dụng nên được đóng. Kẻ tấn công có thể gửi các thông điệp đặc biệt tới các cổng mở để cố gắng xâm nhập hệ thống, tương tự như một kẻ trộm xe cố thử mở cửa xem có cửa nào không khóa hay không.\n3. Làm thế nào để tổ chức có thể bảo vệ các vector tấn công của mình?\nThực hành các biện pháp bảo mật tốt. Mã hóa dữ liệu. Cô lập trình duyệt. Vá các lỗ hổng bảo mật. Dịch vụ bảo mật truy cập biên (SASE). "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/1-introduce/1.2-attacksurface/",
	"title": "Bề mặt tấn công",
	"tags": [],
	"description": "",
	"content": "1. Định nghĩa: Bề mặt tấn công (attack surface) là tất cả các điểm truy cập và lỗ hổng mà kẻ tấn công có thể khai thác để xâm nhập vào mạng hoặc hệ thống. Nó tương tự như tất cả các cửa ra vào và cửa sổ trong một ngôi nhà — càng nhiều cửa và cửa sổ, càng nhiều điểm tiềm năng cho việc đột nhập. Hiểu rõ bề mặt tấn công của mạng là rất quan trọng — bằng cách biết được các lỗ hổng và giám sát chúng đúng cách, một tổ chức có thể giảm bề mặt tấn công và khiến việc xâm nhập và làm tổn hại hệ thống trở nên khó khăn hơn nhiều.\n2. Các thành phần của bề mặt tấn công:\nBề mặt tấn công kỹ thuật số bao gồm mạng và dịch vụ, chẳng hạn như các cổng, mã và kết nối không dây. Bề mặt tấn công vật lý bao gồm các thiết bị đầu cuối như cổng USB và máy tính xách tay. Bề mặt tấn công kỹ thuật xã hội là nhắm vào nhân sự hoặc nhân viên, chẳng hạn như tấn công phishing hoặc ransomware. 3. Các chiến lược mà tổ chức áp dụng để giảm bề mặt tấn công?\nĐánh giá lỗ hổng thường xuyên và kiểm tra thâm nhập để xác định điểm yếu của hệ thống, cũng như cập nhật phần mềm và hệ điều hành với các bản vá bảo mật mới nhất. "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/2-prerequiste/",
	"title": "Chuẩn bị",
	"tags": [],
	"description": "",
	"content": "\rChúng ta sẽ tiến hành khai thác AWS S3 Bucket thông qua việc cấu hình lỗi. Xin lưu ý rằng các hướng dẫn dưới đây chỉ dùng để tham khảo và không nên sử dụng cho bất kỳ mục đích nào khác.\n1. Hệ điều hành:\nKali linux: https://www.kali.org/ 2. Công cụ:\nLazys3: https://github.com/nahamsec/lazys3 S3scanner: https://pypi.org/project/S3Scanner/ 3. Mục tiêu: AWS S3 Bucket có một website tĩnh được public.\n"
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/1-introduce/1.3-premisecloud/",
	"title": "Cơ sở hạ tầng (on-premise) và Cloud (on-cloud)",
	"tags": [],
	"description": "",
	"content": "1. On-Premise: đề cập đến các hệ thống CNTT, phần mềm hoặc hạ tầng được lưu trữ và quản lý cục bộ trong cơ sở của tổ chức, thay vì được cung cấp hoặc lưu trữ bởi nhà cung cấp dịch vụ bên ngoài.\n2. On-Cloud: (thường được gọi là \u0026ldquo;Cloud\u0026rdquo;) đề cập đến các hệ thống CNTT, phần mềm và hạ tầng được lưu trữ, quản lý và cung cấp qua internet bởi các nhà cung cấp dịch vụ bên ngoài, thay vì được duy trì cục bộ bởi tổ chức.\n3. Vectơ tấn công on-premise và on-cloud:\nMạng: On-Premise: Khai thác các lỗ hổng từ firewall cấu hình kém hoặc thiết bị mạng chưa được vá lỗi\u0026hellip; On-Cloud: Khai thác cấu hình sai trong VPC, nhóm bảo mật, ACL,\u0026hellip; Xác thực và Kiểm soát Truy cập: On-Premise: Đánh cắp thông tin đăng nhập của người dùng, khai thác các lỗ hổng để đạt được quyền truy cập cao hơn (leo thang quyền hạn)\u0026hellip; On-Cloud: Cấu hình sai vai trò IAM hoặc chính sách, đánh cắp token xác thực hoặc khóa API. Lỗ hổng Ứng dụng và Dịch vụ: On-Premise: Khai thác lỗ hổng trong các ứng dụng hoặc dịch vụ được lưu trữ nội bộ\u0026hellip; On-Cloud: Bộ lưu trữ bị lộ hoặc API không được bảo mật đúng cách. Bảo mật Dữ liệu: On-Premise: Mất cắp hoặc thất lạc thiết bị lưu trữ vật lý chứa dữ liệu nhạy cảm. On-Cloud: Cấu hình sai dịch vụ lưu trữ đám mây hoặc cơ sở dữ liệu có thể dẫn đến lộ dữ liệu không được phép. Mối đe dọa từ Nội bộ: On-Premise: Nhân viên hoặc nhà thầu có quyền truy cập vào hệ thống nội bộ có thể lạm dụng quyền truy cập hoặc đánh cắp dữ liệu. On-Cloud: Mối đe dọa tiềm ẩn từ nhân viên của nhà cung cấp dịch vụ đám mây, mặc dù quyền truy cập dữ liệu khách hàng thường bị hạn chế. 4. Bề mặt tấn công on-premise và on-cloud:\nHạ tầng: On-Premise: Quyền truy cập vật lý vào máy chủ, thiết bị mạng và trung tâm dữ liệu có thể bị khai thác. On-Cloud: Các điểm cuối và API của dịch vụ đám mây có thể bị tấn công nếu không được bảo mật đúng cách. Mạng: On-Premise: Rủi ro từ các giao tiếp nội bộ và truyền dữ liệu, đặc biệt nếu không được mã hóa đúng cách. On-Cloud: Khả năng dữ liệu bị chặn trong quá trình truyền qua các mạng công cộng hoặc không an toàn. Hệ thống và Dịch vụ: On-Premise: Khai thác nhắm vào các ứng dụng hoặc dịch vụ được lưu trữ nội bộ, bao gồm phần mềm chưa được vá lỗi hoặc các lỗ hổng đã biết. On-Cloud: Khai thác do cấu hình sai dịch vụ đám mây hoặc rủi ro liên quan đến các API không được bảo mật hoặc quản lý đúng cách tương tác với các dịch vụ đám mây. Kiểm soát Truy cập: On-Premise: Rủi ro liên quan đến cơ chế xác thực yếu hoặc bị xâm phạm để truy cập các hệ thống on-premise. On-Cloud: Cấu hình sai IAM. "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/3-exploitation/",
	"title": "Tiến hành khai thác",
	"tags": [],
	"description": "",
	"content": "Chúng ta sẽ tiến hành khai thác AWS S3 Bucket trên trang web: http://exploit-s3-bucket.click "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/3-exploitation/3.1-reconscan/",
	"title": "Trinh sát và quét",
	"tags": [],
	"description": "",
	"content": " Sử dụng lệnh host để lấy các bản ghi DNS: host exploit-s3-bucket.click \u0026ndash;\u0026gt; Lấy được IP 16.182.107.157. Sau đó, sử dụng lệnh host IP: host 16.182.107.157 \u0026ndash;\u0026gt; Lấy được tên miền s3-website-us-east-1.amazonaws.com. Chúng ta có thể nhập địa chỉ IP này vào trình duyệt \u0026ndash;\u0026gt; Chuyển hướng đến trang AWS. Chúng ta cũng có thể sử dụng dnsrecon để tìm IP: dnsrecon -d exploit-s3-bucket.click. Kiểm tra xem tên miền này có phải là S3 Bucket bằng cách sử dụng lazys3: ruby lazys3.rb exploit-s3-bucket.click. Và bây giờ chúng ta kết hợp tên bucket (exploit-s3-bucket.click) với tên miền chúng ta tìm được (s3-website-us-east-1.amazonaws.com) \u0026ndash;\u0026gt; exploit-s3-bucket.click.s3-website-us-east-1.amazonaws.com. "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/4-solution/",
	"title": "Giải pháp",
	"tags": [],
	"description": "",
	"content": " Chặn truy cập công khai (cài đặt bucket): Chọn ít nhất một trong bốn tùy chọn hoặc chọn \u0026lsquo;Chặn tất cả truy cập công khai\u0026rsquo; nếu không cần truy cập công khai đến dữ liệu.\nChính sách bucket: Cẩn thận khi điều chỉnh các cấu hình chính sách, vì cách cài đặt không chính xác có thể dẫn đến dữ liệu bị lộ. Dưới đây là một ví dụ về cấu hình cho phép bất kỳ ai cũng có thể truy cập dữ liệu. Các đối tượng công khai: Chỉ công khai các đối tượng mà chúng ta cần sử dụng. "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/3-exploitation/3.2-exploit/",
	"title": "Khai thác",
	"tags": [],
	"description": "",
	"content": " Kiểm tra xem dữ liệu trong bucket có công khai không: aws s3 ls s3://exploit-s3-bucket.click \u0026ndash;no-sign-request. Kiểm tra quyền của S3 Bucket này bằng cách sử dụng S3Scanner: python3 -m S3Scanner scan \u0026ndash;bucket exploit-s3-bucket.click \u0026ndash;\u0026gt; Chúng ta có thể xem trạng thái và quyền của bucket. Chúng ta có quyền đọc cho tất cả người dùng, vì vậy chúng ta có thể sao chép các tệp đã được quét bằng S3Scanner: python3 -m S3Scanner dump \u0026ndash;bucket exploit-s3-bucket.click \u0026ndash;dump-dir /home/longnt/Desktop/Exploit-AWS-S3-Bucket. "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/5-cleanup/",
	"title": "Dọn dẹp tài nguyên  ",
	"tags": [],
	"description": "",
	"content": "Xóa nội dung S3 Bucket Vào AWS S3. Trong danh sách Tên bucket, chọn bucket liên quan đến bài lab. Chọn Làm trống. Trên trang Làm trống bucket, xác nhận và chọn Làm trống. Xóa S3 Bucket Vào AWS S3. Chọn S3 bucket liên quan đến bài lab. Chọn Xóa bucket. "
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://localhost:1313/exploit-s3-bucket/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]